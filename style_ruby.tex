\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstdefinelanguage{ruby}{%
  morekeywords={alias, and, begin, BEGIN, break,%
    case, class, def, defined?, do, else, elsif,%
    end, END, ensure, false, for, if, in, module, next,%
    nil, not, or, redo, rescue, retry, return, self,%
    super, then, true, undef, unless, until, when,%
		while, yield, __FILE__, __LINE__},
  otherkeywords={=>,::,>:,@,<=>,==,===,!=,[],[]=,+,-,!,~,/,+,-,|,^,!~,=~,?,:,+=,-=,*=,/=},
  sensitive=true,
  morecomment=[l]{\#},
  morecomment=[n]{=begin}{=end},
  morestring=[b]",
  morestring=[b]',
  morestring=[b]"""
}
 
\lstset{frame=tb,
  language=ruby,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  numbers=left,  
  stepnumber=4,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true
  tabsize=3
}

